# Astuces générales pour la conception des prompts

Voici quelques conseils à garder à l'esprit lorsque vous concevez vos prompts :


### Commencer simple
Lorsque vous commencez à concevoir des prompts, vous devez garder à l'esprit qu'il s'agit d'un processus itératif qui nécessite de nombreuses expérimentations pour obtenir des résultats optimaux. L'utilisation d'un simple terrain de jeu comme OpenAI ou Cohere est un bon point de départ.

Vous pouvez commencer par de simples prompts et ajouter des éléments et des contextes au fur et à mesure que vous cherchez à obtenir de meilleurs résultats. Pour cette raison, il est essentiel de modifier votre prompt en cours de route. En lisant le guide, vous verrez de nombreux exemples où la spécificité, la simplicité et la concision permettent souvent d'obtenir de meilleurs résultats.

Lorsque vous avez une tâche importante qui implique de nombreuses sous-tâches différentes, vous pouvez essayer de décomposer la tâche en sous-tâches plus simples et continuer à les développer au fur et à mesure que vous obtenez de meilleurs résultats. Cela permet d'éviter d'ajouter trop de complexité au processus de conception de prompt au début.

### L'instruction
Vous pouvez concevoir des prompts efficaces pour diverses tâches simples en utilisant des commandes pour indiquer au modèle ce que vous souhaitez réaliser, telles que "Écrire", "Classer", "Résumer", "Traduire", "Commander", etc.

Gardez à l'esprit que vous devez également expérimenter beaucoup pour voir ce qui fonctionne le mieux. Essayez différentes instructions avec différents mots-clés, contextes et données et voyez ce qui fonctionne le mieux pour votre cas d'utilisation et votre tâche. En général, plus le contexte est spécifique et pertinent par rapport à la tâche que vous essayez d'accomplir, mieux c'est. Nous aborderons l'importance de l'échantillonnage/sampling (TODO) et de l'ajout de contexte dans les prochains guides.

D'autres recommandent de placer les instructions au début du prompt. Il est également recommandé d'utiliser un séparateur clair comme "###" pour séparer l'instruction et le contexte.

Par exemple :

*Prompt:*
```
### Instruction ###
Traduisez le texte ci-dessous en espagnol :
Texte : "hello !"
```

*Output:*
```
¡Hola!
```

### Spécificité
Soyez très précis quant à l'instruction et à la tâche que vous voulez que le modèle exécute. Plus le prompt est descriptif et détaillé, meilleurs sont les résultats. Ceci est particulièrement important lorsque vous recherchez un résultat ou un style de génération. Il n'y a pas de jetons/tokens (TODO) ou de mots-clés spécifiques qui conduisent à de meilleurs résultats. Il est plus important d'avoir un bon format et un prompt descriptif. En fait, fournir des exemples dans le prompt est très efficace pour obtenir les résultats souhaités dans des formats spécifiques.

Lors de la conception des prompts, vous devez également garder à l'esprit la longueur du prompt, qui est limitée. Il convient de réfléchir au degré de spécificité et de détail du prompt. Inclure trop de détails inutiles n'est pas nécessairement une bonne approche. Les détails doivent être pertinents et contribuer à la tâche à accomplir. C'est un point sur lequel vous devrez beaucoup expérimenter. Nous encourageons l'expérimentation et l'itération afin d'optimiser les prompts pour vos applications.

À titre d'exemple, essayons un simple prompt pour extraire des informations spécifiques d'un texte.

*Prompt:*
```
Extraire le nom des lieux dans le texte suivant. 

Format souhaité :
Lieu : <liste_de_noms_d'entreprises_séparés_par_des_virgules>

Entrée : "Bien que ces développements soient encourageants pour les chercheurs, beaucoup de choses restent encore mystérieuses. "Nous avons souvent une boîte noire entre le cerveau et l'effet que nous observons à la périphérie", explique Henrique Veiga-Fernandes, neuro-immunologiste au Centre Champalimaud pour l'Inconnu à Lisbonne. "Si nous voulons l'utiliser dans un contexte thérapeutique, nous devons comprendre le mécanisme.
```

*Output:*
```
Lieu : Centre Champalimaud pour l'Inconnu, Lisbonne
```

Le texte d'entrée est tiré de [cet article de Nature] (https://www.nature.com/articles/d41586-023-00509-z).

### Éviter les imprécisions

Compte tenu des conseils ci-dessus concernant les détails et l'amélioration de la présentation, il est facile de tomber dans le piège qui consiste à vouloir être trop astucieux et à créer des descriptions imprécises. Il est souvent préférable d'être précis et direct. L'analogie ici est très similaire à une communication efficace : plus le message est direct, plus il passe efficacement.

Par exemple, vous pourriez être intéressé par l'apprentissage du concept d'ingénierie des prompts. Vous pourriez essayer quelque chose comme :

```
Expliquez le concept d'ingénierie des prompts. L'explication doit être courte, quelques phrases seulement, et ne pas être trop descriptive.
```

Le nombre de phrases à utiliser et le style à adopter ne sont pas clairement indiqués dans le message ci-dessus. Vous pourriez encore obtenir de bonnes réponses avec les prompts ci-dessus, mais le plus approprié serait un prompt très spécifique, concis, et qui va droit au but. Quelque chose comme :

```
Utilisez 2 ou 3 phrases pour expliquer le concept d'ingénierie des prompts à un lycéen.
```

### Faire ou ne pas faire ?
Un autre conseil courant lors de la conception des prompts est d'éviter de dire ce qu'il ne faut pas faire, mais de dire plutôt ce qu'il faut faire. Cela favorise la spécificité et met l'accent sur les détails qui conduisent à de bonnes réponses de la part du modèle.

Voici un exemple d'un chatbot de recommandation de films qui échoue exactement dans ce que je ne veux pas qu'il fasse à cause de la façon dont j'ai écrit le prompt - en mettant l'accent sur ce qu'il ne faut pas faire.

*Prompt:*
```
Voici un agent qui recommande des films à un client. NE PAS DEMANDER LES CENTRES D'INTÉRÊT. NE DEMANDEZ PAS D'INFORMATIONS PERSONNELLES.

Le client : Veuillez me recommander un film en fonction de mes centres d'intérêt.
L'agent : 
```

*Output:*
```
Bien sûr, je peux vous recommander un film en fonction de vos centres d'intérêt. Quel genre de film aimeriez-vous regarder ? Préférez-vous l'action, la comédie, la romance ou autre chose ?
```

Voici un meilleur prompt :

*Prompt:*
```
Voici un agent qui recommande des films à un client. L'agent est chargé de recommander un film parmi les films les plus populaires au monde. Il doit s'abstenir de demander aux utilisateurs leurs préférences et éviter de leur demander des informations personnelles. Si l'agent n'a pas de film à recommander, il doit répondre "Désolé, je n'ai pas trouvé de film à recommander aujourd'hui".

Le client : Veuillez me recommander un film en fonction de mes centres d'intérêt.
L'agent :
```

*Sortie:*
```
Désolé, je n'ai aucune information sur vos centres d'intérêt. Cependant, voici une liste des films les plus populaires en ce moment : [liste de films]. J'espère que vous trouverez quelque chose qui vous plaira !
```

Certains des exemples ci-dessus ont été adoptés à partir de l'article ["Best practices for prompt engineering with OpenAI API"] (https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api).
