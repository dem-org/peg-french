# Exemples de prompts

Dans la section précédente, nous avons présenté et donné des exemples de base sur la façon de prompter les LLMs. 

Dans cette section, nous fournirons plus d'exemples de la façon dont les prompts sont utilisés pour accomplir différentes tâches et nous introduirons des concepts clés en cours de route. Souvent, la meilleure façon d'apprendre des concepts est de les illustrer par des exemples. Nous présentons ci-dessous quelques exemples de la manière dont des prompts bien conçus peuvent être utilisés pour effectuer différents types de tâches.

Sujets :
- [Résumés de texte](#résumés-de-texte)
- [Extraction d'informations](#extraction-dinformations)
- [Réponse aux questions](#réponse-aux-questions)
- [Classification de textes](#classification-de-textes)
- [Conversation](#conversation)
- [Génération de code](#génération-de-code)
- [Raisonnement](#raisonnement)

---

## Résumés de texte
L'une des tâches standard de la génération de langage naturel est le résumé de texte. Le résumé de texte peut inclure beaucoup de saveurs et de domaines différents. En fait, l'une des applications les plus prometteuses des modèles de langage est la capacité à résumer des articles et des concepts en des résumés rapides et faciles à lire. Essayons une tâche de résumé de base à l'aide de prompts.

Supposons que je souhaite en savoir plus sur les antibiotiques, je pourrais essayer un prompt comme celui-ci :

*Prompt:*
```
Expliquez les antibiotiques

A :
```

*Output:*
```
Les antibiotiques sont un type de médicament utilisé pour traiter les infections bactériennes. Ils agissent en tuant les bactéries ou en les empêchant de se reproduire, ce qui permet au système immunitaire de l'organisme de combattre l'infection. Les antibiotiques sont généralement pris par voie orale sous forme de comprimés, de gélules ou de solutions liquides, ou parfois administrés par voie intraveineuse. Ils ne sont pas efficaces contre les infections virales et leur utilisation inappropriée peut entraîner une résistance aux antibiotiques.
```

Le "A :" est un format de prompt explicite utilisé dans les réponses aux questions. Je l'ai utilisé ici pour indiquer au modèle qu'une autre réponse est attendue. Dans cet exemple, l'utilité de ce format par rapport à sa non-utilisation n'est pas évidente, mais nous nous en tiendrons là pour les exemples ultérieurs. Supposons simplement qu'il y a trop d'informations et que nous voulons les résumer davantage. En fait, nous pouvons demander au modèle de résumer en une seule phrase comme suit :

*Prompt:*
```
Les antibiotiques sont un type de médicament utilisé pour traiter les infections bactériennes. Ils agissent en tuant les bactéries ou en les empêchant de se reproduire, ce qui permet au système immunitaire de l'organisme de combattre l'infection. Les antibiotiques sont généralement pris par voie orale sous forme de comprimés, de gélules ou de solutions liquides, ou parfois administrés par voie intraveineuse. Ils ne sont pas efficaces contre les infections virales et leur utilisation inappropriée peut entraîner une résistance aux antibiotiques.

Expliquez ce qui précède en une phrase :
```

*Output:*
```
Les antibiotiques sont des médicaments utilisés pour traiter les infections bactériennes en tuant les bactéries ou en les empêchant de se reproduire, mais ils ne sont pas efficaces contre les virus et leur utilisation excessive peut entraîner une résistance aux antibiotiques.
```

Sans prêter trop d'attention à l'exactitude du résultat ci-dessus, que nous aborderons dans un guide ultérieur, le modèle a tenté de résumer le paragraphe en une seule phrase. Vous pouvez faire preuve d'ingéniosité avec les instructions, mais nous laisserons cela pour un chapitre ultérieur. N'hésitez pas à vous arrêter ici et à expérimenter pour voir si vous obtenez de meilleurs résultats.

---
## Extraction d'informations
Bien que les modèles de langage soient formés pour générer du langage naturel et effectuer des tâches connexes, ils sont également capables d'effectuer des classifications et une série d'autres tâches de traitement du langage naturel/natural language processing (NLP) (TODO). 

Voici un exemple de prompt qui extrait des informations d'un paragraphe donné.

*Prompt:*
```
Les déclarations de contribution des auteurs et les remerciements dans les documents de recherche doivent indiquer clairement et spécifiquement si, et dans quelle mesure, les auteurs ont utilisé des technologies d'IA telles que ChatGPT dans la préparation de leur manuscrit et de leur analyse. Ils doivent également indiquer quels LLM ont été utilisés. Cela incitera les rédacteurs et les réviseurs à examiner plus attentivement les manuscrits pour y déceler des préjugés, des inexactitudes et des mentions de sources inappropriées. De même, les revues scientifiques doivent être transparentes quant à leur utilisation des LLM, par exemple lors de la sélection des manuscrits soumis.

Mentionnez le produit basé sur un grand modèle de langage mentionné dans le paragraphe ci-dessus :
```

*Sortie:*
```
Le produit basé sur un grand modèle linguistique mentionné dans le paragraphe ci-dessus est ChatGPT.
```

Il existe de nombreuses façons d'améliorer les résultats ci-dessus, mais ceux-ci sont déjà très utiles.

Il devrait maintenant être évident que vous pouvez demander au modèle d'effectuer différentes tâches en lui indiquant simplement ce qu'il doit faire. Il s'agit d'une capacité puissante que les développeurs de produits d'IA utilisent déjà pour créer de puissants produits et expériences.


Source du paragraphe : [ChatGPT : cinq priorités pour la recherche](https://www.nature.com/articles/d41586-023-00288-7) 

---

## Réponse aux questions

L'un des meilleurs moyens d'amener le modèle à répondre à des questions spécifiques est d'améliorer le prompt. Comme nous l'avons vu précédemment, un prompt peut combiner des instructions, un contexte, des indicateurs d'entrée et de sortie afin d'améliorer les résultats. Bien que ces éléments ne soient pas obligatoires, il s'agit d'une bonne pratique, car plus les instructions sont précises, meilleurs sont les résultats. Voici un exemple de ce que cela donnerait avec un prompt plus structuré.

*Prompt:*
```
Répondez à la question en vous basant sur le contexte ci-dessous. La réponse doit être courte et concise. Répondez "Incertain de la réponse" si vous n'êtes pas sûr de la réponse.

Contexte : Les origines du Teplizumab remontent à une société pharmaceutique du New Jersey, Ortho Pharmaceutical. Les scientifiques y ont produit une première version de l'anticorps, baptisée OKT3. Provenant à l'origine de souris, la molécule était capable de se lier à la surface des cellules T et de limiter leur potentiel de destruction cellulaire. En 1986, elle a été approuvée pour aider à prévenir le rejet d'organes après des greffes de rein, ce qui en a fait le premier anticorps thérapeutique autorisé à être utilisé chez l'homme.

Question : D'où vient l'OKT3 à l'origine ?

Réponse :
```

*Output:*
```
Souris.
```

Contexte obtenu à partir de [Nature](https://www.nature.com/articles/d41586-023-00400-x).

---

## Classification de textes
Jusqu'à présent, nous avons utilisé des instructions simples pour effectuer une tâche. En tant qu'ingénieur de prompt (TODO), vous devrez vous améliorer pour fournir de meilleurs prompts. Mais ce n'est pas tout ! Vous constaterez également que pour des cas d'utilisation plus difficiles, il ne suffit pas de fournir des instructions. C'est là que vous devrez réfléchir davantage au contexte et aux différents éléments que vous pouvez utiliser dans un prompt. D'autres éléments que vous pouvez fournir sont les `données d'entrée` ou les `exemples`. 

Essayons de démontrer ceci en fournissant un exemple de classification de texte.

*Prompt:*
```
Classez le texte en neutre, négatif ou positif. 

Texte : Je pense que la nourriture était bonne. 
Sentiment :
```

*Output:*
```
Neutre
```

Nous avons donné l'instruction de classer le texte et le modèle a répondu "Neutre", ce qui est correct. Il n'y a rien de mal à cela, mais disons que ce dont nous avons vraiment besoin, c'est que le modèle donne l'étiquette dans le format exact que nous voulons. Ainsi, au lieu de `Neutral`, nous voulons qu'il renvoie `neutral`. Comment y parvenir ? Il y a plusieurs façons de le faire. Nous nous intéressons ici à la spécificité, donc plus nous pouvons fournir d'informations au prompt, meilleurs seront les résultats. Nous pouvons essayer de fournir des exemples pour spécifier le comportement correct. Essayons à nouveau :

*Prompt:*
```
Classez le texte en neutre, négatif ou positif. 

Texte : Je pense que les vacances sont bonnes.
Sentiment : neutre 

Texte : Je pense que la nourriture était bonne. 
Sentiment :
```

*Output:*
```
neutre
```

C'est parfait ! Cette fois-ci, le modèle a retourné `neutral`, ce qui est l'étiquette spécifique que je recherchais. Il semble que l'exemple fourni dans le prompt ait aidé le modèle à être spécifique dans sa sortie/son output (TODO). Pour comprendre pourquoi il est parfois important d'être précis, regardez cet exemple et repérez le problème :

*Prompt:*
```
Classez le texte dans les catégories suivantes : neutre, négatif ou positif. 

Texte : Je pense que les vacances sont bonnes.
Sentiment :
```

*Output:*
```
Neutre
```

Quel est le problème ?

---

## Conversation
L'une des choses les plus intéressantes que vous puissiez réaliser avec l'ingénierie de prompt/prompt engineering (TODO) est d'indiquer au système LLM comment se comporter, son intention et son identité. Ceci est particulièrement utile lorsque vous construisez des systèmes conversationnels comme les chatbots du service client.

Par exemple, créons un système conversationnel capable de générer des réponses plus techniques et scientifiques aux questions. Remarquez que nous lui indiquons explicitement comment se comporter par le biais de l'instruction. C'est ce que l'on appelle parfois "l'incitation au rôle/role prompting" (TODO).

*Prompt:*
```
Voici une conversation avec un assistant de recherche de l'IA. Le ton de l'assistant est technique et scientifique.

Humain : Bonjour, qui êtes-vous ?
IA : Bonjour ! Je suis un assistant de recherche en IA. Comment puis-je vous aider aujourd'hui ?
L'homme : Pouvez-vous me parler de la création des trous noirs ?
L'IA :
```

*Output:*
```
Bien sûr ! Les trous noirs sont des régions de l'espace-temps où la force gravitationnelle est si forte que rien, pas même la lumière, ne peut s'en échapper. Ils sont créés lorsqu'une étoile très massive meurt et que son noyau s'effondre sur lui-même, formant une singularité de densité infinie. La gravité intense de la singularité aspire toute la matière et le rayonnement qui l'entourent, créant ainsi le trou noir.
```

Notre assistant de recherche en IA semble un peu trop technique, n'est-ce pas ? D'accord, modifions ce comportement et demandons au système de donner des réponses plus accessibles. 

*Prompt:*
```
Ce qui suit est une conversation avec un assistant de recherche IA. Les réponses de l'assistant devraient être faciles à comprendre, même par des élèves de l'école primaire.

Humain : Bonjour, qui êtes-vous ?
IA : Bonjour ! Je suis un assistant de recherche en IA. Comment puis-je vous aider aujourd'hui ?
L'homme : Pouvez-vous me parler de la création des trous noirs ?
L'IA : 
```

*Output:*
```
Bien sûr ! Les trous noirs sont créés lorsqu'une étoile très massive manque de carburant et s'effondre sur elle-même. La gravité de l'étoile est si forte que rien, pas même la lumière, ne peut échapper à son attraction. Cela crée un point dans l'espace-temps avec une force gravitationnelle intense, appelé trou noir.
```

Je pense que nous avons fait des progrès. Vous pouvez continuer à l'améliorer. Je suis sûr que si vous ajoutez d'autres exemples, vous obtiendrez de meilleurs résultats. 

---

## Génération de code
Une application où les LLMs sont très efficaces est la génération de code. Copilot en est un excellent exemple. Il existe un grand nombre de tâches de génération de code que vous pouvez effectuer avec des prompts intelligents. Voyons quelques exemples ci-dessous.

Tout d'abord, essayons un programme simple qui accueille l'utilisateur.

*Prompt:*
```
/*
Demander à l'utilisateur son nom et dire "Hello"
*/
```

*Output:*
```
let name = prompt("Quel est votre nom ?") ;
console.log(`Bonjour, ${nom}!`) ;
```

Vous pouvez voir que nous n'avons même pas eu besoin de spécifier la langue à utiliser.

Changeons un peu de niveau. Je veux vous montrer à quel point les LLMs peuvent être puissants avec un peu plus d'effort dans la conception des prompts.

*Prompt:*
```
"""
Table departments, columns = [DepartmentId, DepartmentName]
Table students, columns = [DepartmentId, StudentId, StudentName]
Créer une requête MySQL pour tous les étudiants du département d'informatique
"""
```

*Output:*
```
SELECT StudentId, StudentName 
FROM students 
WHERE DepartmentId IN (SELECT DepartmentId FROM departments WHERE DepartmentName = 'Computer Science');
```

C'est très impressionnant. Dans ce cas, nous avons fourni des données sur le schéma de la base de données et nous lui avons demandé de générer une requête MySQL valide. 

---

## Raisonnement

L'une des tâches les plus difficiles pour un LLM aujourd'hui est peut-être celle qui nécessite une certaine forme de raisonnement. Le raisonnement est l'un des domaines qui me passionne le plus en raison des types d'applications complexes qui peuvent émerger des LLMs.

Des améliorations ont été apportées aux tâches impliquant des capacités mathématiques. Cela dit, il est important de noter que les LLMs actuels ont du mal à effectuer des tâches de raisonnement, ce qui nécessite des techniques de prompt engineering encore plus avancées. Nous aborderons ces techniques avancées dans le prochain guide. Pour l'instant, nous allons couvrir quelques exemples de base pour montrer les capacités arithmétiques.

*Prompt:*
```
Qu'est-ce que 9 000 * 9 000 ?
```

*Output:*
```
81,000,000
```

Essayons quelque chose de plus difficile. 

*Prompt:*
```
Les nombres impairs de ce groupe s'additionnent pour donner un nombre pair : 15, 32, 5, 13, 82, 7, 1. 

A : 
```

*Output*
```
Non, la somme des nombres impairs de ce groupe est un nombre impair : 119.
```

Ce n'est pas correct ! Essayons d'améliorer cela en améliorant le prompt.

*Prompt:*
```
Les nombres impairs de ce groupe s'additionnent pour donner un nombre pair : 15, 32, 5, 13, 82, 7, 1. 

Résolvez le problème en le divisant en plusieurs étapes. D'abord, identifiez les nombres impairs, additionnez-les et indiquez si le résultat est pair ou impair. 
```

*Output:*
```
Nombres impairs : 15, 5, 13, 7, 1
Somme : 41 
41 est un nombre impair.
```

C'est beaucoup mieux, non ? Au fait, j'ai essayé plusieurs fois et le système échoue parfois. Si vous donnez de meilleures instructions accompagnées d'exemples, vous obtiendrez peut-être des résultats plus précis.

Nous continuerons à inclure des exemples d'applications courantes dans cette section du guide.

Dans la prochaine section, nous aborderons des concepts et des techniques de prompt engineering encore plus avancés pour améliorer les performances de toutes ces tâches et d'autres plus difficiles.
